---
description: Utils package patterns for shared utilities and logger.
globs: packages/utils/**/*
---
# Utils Package Rules

## Purpose

Shared utilities used across apps and packages.

## Contents

- **Logger utilities** (pino-based structured logging)
- Common helper functions
- Type definitions

## Logger Usage

See [docs/examples/logger-usage.ts](../../docs/examples/logger-usage.ts) for usage examples.

### Log Levels

- `debug` - Detailed information for development/troubleshooting
- `info` - General informational messages (default in production)
- `warn` - Warning messages for non-critical issues
- `error` - Error messages for failures
- `fatal` - Critical errors that require immediate attention

### Environment Behavior

**Development:**
- Pretty-printed output with colors
- Single-line format
- Human-readable timestamps
- Default level: `debug`

**Production:**
- JSON output (optimal for log aggregation)
- No colors or pretty-printing
- ISO timestamps
- Default level: `info`

## Implementation

Based on [pino](https://github.com/pinojs/pino) - high-performance JSON logger.

See `packages/utils/src/logger.ts` for implementation details.

## Patterns

- Keep utilities pure and stateless
- Avoid app-specific logic
- Export well-typed interfaces
- Document all exported functions

## References

- **Code examples**: See [docs/examples/logger-usage.ts](../../docs/examples/logger-usage.ts)
- **Coding standards**: See [@coding-standards.mdc](../shared/quality/coding-standards.mdc)
