---
description: Domain-driven design patterns for Control Plane.
globs: apps/control-plane/**/*
---
# Control Plane Domain Structure

## Domain Organization

```
apps/control-plane/src/
├── database/           # Database schema and connection
│   ├── schema.ts      # Drizzle schema definitions
│   └── db.ts          # Database connection
├── domains/           # Domain modules
│   └── tenants/       # Tenant domain
│       ├── tenant.repository.ts
│       ├── tenant.service.ts
│       ├── tenant.routes.ts
│       ├── tenant.schemas.ts
│       └── tenant.types.ts
└── index.ts           # Application entry point
```

## Domain Patterns

### Repository Pattern
Handles data access and database operations.

### Service Pattern
Orchestrates business logic and coordinates between repositories and external APIs.

### Route Pattern
Handles HTTP concerns and delegates to services.

See [docs/examples/domain-patterns.ts](../../../docs/examples/domain-patterns.ts) for implementation examples.

## Domain Isolation

- Each domain is self-contained
- Domain services handle business logic
- Repositories handle data access
- Routes handle HTTP concerns

## References

- **Code examples**: See [docs/examples/domain-patterns.ts](../../../docs/examples/domain-patterns.ts)
- **API patterns**: See [@api-development.mdc](./api-development.mdc)
